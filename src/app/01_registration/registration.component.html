<!--
Vorbereitung -> Übertragen in gesamte Form
-->
  <a class="navbar-brand zz-logo zz-logo--position-center" href="#">
    <img src="assets/img/logo.png" alt="" class="zz-logo__img">
  </a>
  <div class="row justify-content-center zz-layout__row">
    <div class="col-11 col-lg-11 col-xl-7 zz-mod-container">
      <div class="zz-mod-box">
        <h1 class="zz-title zz-title--insideBox">Registrieren</h1>
        <form name="form" [formGroup]="registrationForm" (ngSubmit)="registrationForm.valid && register()" novalidate class="zz-form">
          <div class="form-row">
            <div class="col-12"><h3 class="zz-form__title">Angaben zu den Eltern</h3></div>
          </div>
          <div class="form-row">
            <div class="col-md-6 col-sm-12 zz-form__group">
              <label class="zz-form__label" for="p-firstname">Vorname</label>
              <input id="p-firstname" class="zz-form__input" [(ngModel)]="model.parent_firstname" type="text" formControlName="formPFirstname" [ngClass]="{ 'zz-form__input--error': formPFirstname.invalid && (formPFirstname.dirty || formPFirstname.touched)}">
              <div *ngIf="formPFirstname.invalid && formPFirstname.errors.required && (formPFirstname.dirty || formPFirstname.touched)" class="zz-form__error">
                Feld darf nicht leer sein
              </div>
              <div *ngIf="formPFirstname.invalid && formPFirstname.errors.minlength && (formPFirstname.dirty || formPFirstname.touched)" class="zz-form__error">
                Vorname muss mindestens zwei Zeichen haben
              </div>
            </div>
            <div class="col-md-6 col-sm-12 zz-form__group">
              <label class="zz-form__label" for="p-lastName">Nachname</label>
              <input id="p-lastName" class="zz-form__input" name="lastName" type="text" [(ngModel)]="model.parent_lastname" formControlName="formPLastname" [ngClass]="{ 'zz-form__input--error': formPLastname.invalid && (formPLastname.dirty || formPLastname.touched)}">
              <div *ngIf="formPLastname.invalid && formPLastname.errors.required && (formPLastname.dirty || formPLastname.touched)" class="zz-form__error">
                Feld darf nicht leer sein
              </div>
              <div *ngIf="formPLastname.invalid && formPLastname.errors.minlength && (formPLastname.dirty || formPLastname.touched)" class="zz-form__error">
                Nachname muss mindestens zwei Zeichen haben
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="col-12 zz-form__group">
              <label class="zz-form__label" for="adress">Adresse</label>
              <input id="adress" class="zz-form__input" name="adress" type="text" [(ngModel)]="model.adress" formControlName="formAdress" [ngClass]="{ 'zz-form__input--error': formAdress.invalid && (formAdress.dirty || formAdress.touched)}">
              <div *ngIf="formAdress.invalid && formAdress.errors.required && (formAdress.dirty || formAdress.touched)" class="zz-form__error">
                Feld darf nicht leer sein
              </div>
              <div *ngIf="formAdress.invalid && formAdress.errors.minlength && (formAdress.dirty || formAdress.touched)" class="zz-form__error">
                Adresse ist nicht gültig
              </div>
            </div>
            <div class="col-8 zz-form__group">
              <label class="zz-form__label" for="place">Ort</label>
              <input id="place" class="zz-form__input" name="place" type="text" [(ngModel)]="model.place" formControlName="formPlace" [ngClass]="{ 'zz-form__input--error': formPlace.invalid && (formPlace.dirty || formPlace.touched)}">
              <div *ngIf="formPlace.invalid && formPlace.errors.required && (formPlace.dirty || formPlace.touched)" class="zz-form__error">
                Ort darf nicht leer sein
              </div>
              <div *ngIf="formPlace.invalid && formPlace.errors.minlength && (formPlace.dirty || formPlace.touched)" class="zz-form__error">
                Ort muss mindestens zwei Zeichen haben
              </div>
            </div>
            <div class="col-4 zz-form__group">
              <label class="zz-form__label" for="zip">PLZ</label>
              <input id="zip" class="zz-form__input" name="zip" type="text" [(ngModel)]="model.zip" formControlName="formZip" [ngClass]="{ 'zz-form__input--error': formZip.invalid && (formZip.dirty || formZip.touched)}">
              <div *ngIf="formZip.invalid && formZip.errors.required && (formZip.dirty || formZip.touched)" class="zz-form__error">
                Feld darf nicht leer sein
              </div>
              <div *ngIf="formZip.invalid && formZip.errors.minlength && (formZip.dirty || formZip.touched)" class="zz-form__error">
                Postleitzahl muss vier Zeichen enthalten
              </div>
              <div *ngIf="formZip.invalid && formZip.errors.maxlength && (formZip.dirty || formZip.touched)" class="zz-form__error">
                Postleitzahl muss vier Zeichen enthalten
              </div>
              <div *ngIf="formZip.invalid && formZip.errors.pattern && (formZip.dirty || formZip.touched)" class="zz-form__error">
                Postleitzahl kann keine Buchstaben enthalten
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="col-12 zz-form__group">
              <label class="zz-form__label" for="tel-privat">Telefon privat</label>
              <input id="tel-privat" class="zz-form__input" name="tel-privat" type="text" [(ngModel)]="model.tel_private" formControlName="formTelprivate" [ngClass]="{ 'zz-form__input--error': formTelprivate.invalid && (formTelprivate.dirty || formTelprivate.touched)}">
              <div *ngIf="formTelprivate.invalid && formTelprivate.errors.required && (formTelprivate.dirty || formTelprivate.touched)" class="zz-form__error">
                Feld darf nicht leer sein
              </div>
              <div *ngIf="formTelprivate.invalid && formTelprivate.errors.minlength && (formTelprivate.dirty || formTelprivate.touched)" class="zz-form__error">
                Telefonnummer muss 10 Zahlen enthalten
              </div>
              <div *ngIf="formTelprivate.invalid && formTelprivate.errors.pattern && (formTelprivate.dirty || formTelprivate.touched)" class="zz-form__error">
                Telefonnummer ist nicht gültig
              </div>
            </div>
            <div class="col-12 zz-form__group">
              <label class="zz-form__label" for="tel-office">Telefon geschäft <span
                class="zz-infotext">(optional)</span></label>
              <input id="tel-office" class="zz-form__input" name="tel-office" type="text" [(ngModel)]="model.tel_office" formControlName="formTeloffice">
              <div *ngIf="formTeloffice.invalid && (formTeloffice.dirty || formTeloffice.touched)" class="zz-form__error">
                Die Telefonnummer ist nicht gültig; sie muss aus 10 Zahlen bestehen
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="col-md-6 col-sm-12 zz-form__group">
              <label class="zz-form__label" for="p-gender">
                Anrede
              </label>
              <select class="zz-form__select" id="p-gender" [(ngModel)]="model.parent_gender" formControlName="formParentGender">
                <option value="">Bitte wählen</option>
                <option *ngFor="let gen of gender" [value]="gen.content">{{gen.label}}</option>
              </select>
              <div *ngIf="formParentGender.invalid && (formParentGender.dirty || formParentGender.touched)" class="zz-form__error">
                Feld darf nicht leer sein
              </div>
            </div>
            <div class="col-md-6 col-sm-12 zz-form__group">
              <label class="zz-form__label" for="language">
                Sprache
              </label>
              <select class="zz-form__select" id="language" [(ngModel)]="model.parent_language" formControlName="formLanguage">
                <option *ngFor="let lang of languages" [value]="lang.content">{{lang.label}}</option>
              </select>
              <div *ngIf="formLanguage.invalid && (formLanguage.dirty || formLanguage.touched)" class="zz-form__error">
                Feld darf nicht leer sein
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="col-12"><h3 class="zz-form__title">Angaben zum Kind</h3></div>
          </div>
          <div class="form-row">
            <div class="col-md-6 col-sm-12 zz-form__group">
              <label class="zz-form__label" for="c-firstname">Vorname</label>
              <input id="c-firstname" class="zz-form__input" name="firstName" type="text" [(ngModel)]="model.child_firstname" formControlName="formCFirstname" [ngClass]="{ 'zz-form__input--error': formCFirstname.invalid && (formCFirstname.dirty || formCFirstname.touched)}">
              <div *ngIf="formCFirstname.invalid && formCFirstname.errors.required && (formCFirstname.dirty || formCFirstname.touched)" class="zz-form__error">
                Feld darf nicht leer sein
              </div>
              <div *ngIf="formCFirstname.invalid && formCFirstname.errors.minlength && (formCFirstname.dirty || formCFirstname.touched)" class="zz-form__error">
                Vorname muss mindestens zwei Zeichen haben
              </div>
            </div>
            <div class="col-md-6 col-sm-12 zz-form__group">
              <label class="zz-form__label" for="c-lastName">Nachname</label>
              <input id="c-lastName" class="zz-form__input" name="lastName" type="text" [(ngModel)]="model.child_lastname" formControlName="formCLastname" [ngClass]="{ 'zz-form__input--error': formCLastname.invalid && (formCLastname.dirty || formCLastname.touched)}">
              <div *ngIf="formCLastname.invalid && formCLastname.errors.required && (formCLastname.dirty || formCLastname.touched)" class="zz-form__error">
                Feld darf nicht leer sein
              </div>
              <div *ngIf="formCLastname.invalid && formCLastname.errors.minlength && (formCLastname.dirty || formCLastname.touched)" class="zz-form__error">
                Vorname muss mindestens zwei Zeichen haben
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="col-md-6 col-sm-12 zz-form__group">
              <label class="zz-form__label" for="c-gender">
                Geschlecht
              </label>
              <select class="zz-form__select" id="c-gender" [(ngModel)]="model.child_gender" formControlName="formChildGender">
                <option value="">Bitte wählen</option>
                <option *ngFor="let gen of gender" [value]="gen.content">{{gen.labelChild}}</option>
              </select>
              <div *ngIf="formChildGender.invalid && (formChildGender.dirty || formChildGender.touched)" class="zz-form__error">
                Feld darf nicht leer sein
              </div>
            </div>
          </div>
          <div class="form-row">
          <div class="col-12">
            <label class="zz-form__label">Geburtstag</label>
            <input type="number" id="c-Birthday-Day" class="zz-form__input" [(ngModel)]="model.child_date_of_birth" name="birthday" formControlName="formCBirthday" [ngClass]="{ 'zz-form__input--error': formCBirthday.invalid && (formCBirthday.dirty || formCBirthday.touched)}">
            <div *ngIf="formCBirthday.invalid && formCBirthday.errors.required && (formCBirthday.dirty || formCBirthday.touched)" class="zz-form__error">
              Feld darf nicht leer sein
            </div>
            <div *ngIf="formCBirthday.invalid && formCBirthday.errors.pattern && (formCBirthday.dirty || formCBirthday.touched)" class="zz-form__error">
              Bitte geben Sie ein gültiges Datum ein (z.B. 00-00-0000)
            </div>
          </div>
          </div>
          <div class="form-row">
            <div class="col-12"><h3 class="zz-form__title">E-Mail und Passwort</h3></div>
          </div>
          <div class="form-row" formGroupName="formEMailConfirm">
            <div class="col-12 zz-form__group">
              <label class="zz-form__label" for="email">E-Mail (gilt als username)</label>
              <input id="email" class="zz-form__input" name="email" type="text" formControlName="formEmail" [ngClass]="{ 'zz-form__input--error': formEmail.invalid && (formEmail.dirty || formEmail.touched)}">
              <div *ngIf="formEmail.invalid && formEmail.errors.required && (formEmail.dirty || formEmail.touched)" class="zz-form__error">
                Feld darf nicht leer sein
              </div>
              <div *ngIf="formEmail.invalid && formEmail.errors.email && (formEmail.dirty || formEmail.touched)" class="zz-form__error">
                Bitte geben Sie eine gültige E-Mailadresse ein
              </div>
            </div>
            <div class="col-12 zz-form__group">
              <label class="zz-form__label" for="email-check">E-Mail wiederholen</label>
              <input id="email-check" class="zz-form__input" name="emailcheck" type="text" formControlName="confirmEmail" [ngClass]="{ 'zz-form__input--error': formEMailConfirm.invalid && (formEMailConfirm.dirty || formEMailConfirm.touched)}">
              <div *ngIf="formEMailConfirm.invalid && formEMailConfirm.hasError('nomatch') && (formEMailConfirm.dirty || formEMailConfirm.touched)" class="zz-form__error">
                E-Mailadressen stimmen nicht überein
              </div>
            </div>
          </div>
          <div class="form-row" formGroupName="formPasswordConfirm">
            <div class="col-12 zz-form__group">
              <label class="zz-form__label" for="password">Passwort</label>
              <input id="password" class="zz-form__input" name="password" type="password" formControlName="formPassword" [ngClass]="{ 'zz-form__input--error': formPassword.invalid && (formPassword.dirty || formPassword.touched)}">
              <div *ngIf="formPassword.invalid && formPassword.errors.required && (formPassword.dirty || formPassword.touched)" class="zz-form__error">
                Feld darf nicht leer sein
              </div>
              <div *ngIf="formPassword.invalid && formPassword.errors.minLength && formPassword.errors.maxLength && (formPassword.dirty || formPassword.touched)" class="zz-form__error">
                Das Passwort muss zwischen 8 und 15 Zeichen lang sein
              </div>
              <div *ngIf="formPassword.invalid && formPassword.errors.pattern && (formPassword.dirty || formPassword.touched)" class="zz-form__error">
                Das Passwort muss mindestens einen Buchstaben, eine Zahl und ein Sonderzeichen enthalten.
              </div>
            </div>
            <div class="col-12 zz-form__group">
              <label class="zz-form__label" for="passwordcheck">Passwort wiederholen</label>
              <input id="passwordcheck" class="zz-form__input" name="passwordcheck" type="password" formControlName="confirmPassword" [ngClass]="{ 'zz-form__input--error': formPasswordConfirm.invalid && (formPasswordConfirm.dirty || formPasswordConfirm.touched)}">
              <div *ngIf="formPasswordConfirm.invalid && formPasswordConfirm.hasError('nomatch') && (formPasswordConfirm.dirty || formPasswordConfirm.touched)" class="zz-form__error">
                Passwörter stimmen nicht überein
              </div>
            </div>
          </div>
    <div class="form-row">
            <div class="col-12 zz-form__group zz-form__group--last">
              <button class="zz-btn zz-btn--primary" [disabled]="!registrationForm.valid" >Registrieren und Nutzungsbestimmungen zustimmen*</button>
            </div>
          </div>
        </form>
        <div class="zz-infotext">
          <a href="#" class="zz-infotext__link">
            * Nutzungsbedingungen lesen
          </a>
        </div>
      </div>
      <div class="zz-infotext">
        <p class="zz-infotext__txt">
          Schon registriert?
        </p>
        <a href="#" class="zz-infotext__link zz-infotext__link--large">
          zum Login
        </a>
      </div>
    </div>
  </div>
<!--
Vorbereitung -> Übertragen in gesamte Form
-->

<p class="navbar-brand zz-logo zz-logo--position-center" href="#">
    <img src="assets/img/logo.png" alt="" class="zz-logo__img">
  </p>
  <div class="row justify-content-center zz-layout__row">
    <div class="col-11 col-lg-8 col-xl-5 zz-mod-container">
      <div class="zz-mod-box">
        <h1 class="zz-title zz-title--insideBox">Registrieren</h1>
        <form name="form" #f="ngForm" class="zz-form" (ngSubmit)="f.form.valid && register()" novalidate>
          <div class="form-row">
            <div class="col-6 zz-form__group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
              <label class="zz-form__label" for="first">First Name</label>
              <input id="first" class="zz-form__input" name="firstName" type="text" [(ngModel)]="model.firstName" #firstName="ngModel" required>
              <div *ngIf="f.submitted && !firstName.valid" class="help-block">First Name is required</div>
            </div>
            <div class="col-6 zz-form__group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
              <label class="zz-form__label" for="last">Last Name</label>
              <input id="last"class="zz-form__input" name="lastName" type="text" [(ngModel)]="model.lastName" #lastName="ngModel" required>
              <div *ngIf="f.submitted && !lastName.valid" class="help-block">Last Name is required</div>
            </div>
          </div>
          <div class="form-row">
            <div class="col-6 zz-form__group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
              <label class="zz-form__label" for="username">Username</label>
              <input id="username" class="zz-form__input" name="username" type="text" [(ngModel)]="model.username" #username="ngModel" required>
              <div *ngIf="f.submitted && !username.valid" class="help-block">Username is required</div>
            </div>
            <div class="col-6 zz-form__group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
              <label class="zz-form__label" for="password">Password</label>
              <input id="password" class="zz-form__input" name="password" type="password" [(ngModel)]="model.password" #password="ngModel" required>
              <div *ngIf="f.submitted && !password.valid" class="help-block">Password is required</div>
            </div>
          </div>
          <div class="form-row">
            <div class="col-6 zz-form__group zz-form__group--last">
              <button class="zz-btn zz-btn--primary">Registrieren*</button>
            </div>
            <div class="col-6 zz-form__group zz-form__group--last">
              <button class="zz-btn zz-btn--primary">Cancel</button>
            </div>
          </div>
        </form>
        <div class="zz-infotext">
          <a href="#" class="zz-infotext__link">
            * Nutzungsbedingungen lesen
          </a>
        </div>
      </div>
      <div class="zz-infotext">
        <p class="zz-infotext__txt">
          Schon registriert?
        </p>
        <a [routerLink]="['/login']" class="zz-infotext__link zz-infotext__link--large">
          zum Login
        </a>
      </div>
    </div>
  </div>
